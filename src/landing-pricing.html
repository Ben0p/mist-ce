<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/typed-text/typed-text.html">
<link rel="import" href="../bower_components/paper-styles/shadow.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/hardware-icons.html">
<link rel="import" href="../bower_components/neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="shared-styles.html">
<link rel="import" href="landing-faq.html">

<dom-module id="landing-pricing">
    <template>
        <style is="custom-style" include="iron-flex"></style>
        <style include="shared-styles"></style>
        <style>
        paper-material {
            @apply(--shadow-elevation-2dp);
        }
        
        .hero {
            padding: 48px 0;
        }
        
        :host {
            display: block;
        }
        
        .text-center {
            text-align: center;
        }
        
        paper-button {
            background-color: #0099cc !important;
            color: #fff;
            font-size: 18px;
            height: 54px;
            padding: 0 2rem !important;
            margin: 0 40px 40px !important;
            font-weight: 500;
        }
        
        a {
            text-decoration: none;
        }
        
        .col {
            width: 50%;
            box-sizing: border-box;
        }
        
        .pad {
            padding: 16px;
        }
        
        @media only screen and (max-width: 943px) {
            typed-text {
                display: block;
            }
        }
        
        #placeholder {
            opacity: 0;
            background-color: grey;
            @apply(--layout-fit);
            z-index: -1;
        }
        
        .plan {
            margin-bottom: 50px;
            overflow: auto;
            @apply(--shadow-elevation-4dp);
        }

        .plan, .plan > * {
            box-sizing: border-box;
            margin: 0;
        }

        .title {
            color: #fff;
            text-transform: uppercase;
            padding: 20px 0;
            font-size: 24px;
        }

        .bg-0 {
            background-color: #999;
        }
        
        .bg-1 {
            background-color: #777;
        }
        
        .bg-2 {
            background-color: #555;
        }
        
        .bg-3 {
            background-color: #222;
        }
        
        .plan-body-item {
            padding: 20px 10px;
        }
        
        @media only screen and (max-width: 600px) {
            .plan-body-item {
                min-height: 50px;
            }
        }
        
        .plan-body-item + .plan-body-item {
            border-top: 1px solid #d4d4d4;
        }
        
        .plan-body-item:last-child {
            border-bottom: 1px solid #d4d4d4;
        }
        
        .plan-body-item.highlight {
            background-color: #f2f2f2;
        }
        
        .plan-body-item * {
            width: 100%;
        }
        
        .valign {
            display: block;
        }
        
        .price {
            font-weight: 700;
            line-height: 1;
            padding: 0;
            margin: 8px;
        }
        
        .price sub,
        .price sup {
            font-size: 18px;
            font-weight: 300;
            vertical-align: middle;
        }
        
        .price sup {
            font-size: 24px;
            padding: 0 5px;
        }
        
        paper-button#enterpriseBtn {
            background-color: #4caf50;
            /*green*/
            display: block-inline;
            line-height: 54px;
            margin-left: 0 !important;
            margin-right: 0 !important;
        }
        ul {
            padding: 0;
            margin: 0;
        }
        ul li {
            margin-left: 15px;
            clear: both;
            list-style: none;
        }
        @media screen and (max-width: 768px){
            .includes > div {
                text-align: center;
            }
            .includes ul, .includes li {
                margin: 0;
                padding: 0;
            }
        }
        </style>
        <div id="placeholder"></div>
        <div id="container">
            <div class="section grey">
                <div class="hero text-center">
                    <h2>Mist.io Pricing</h2>
                    <a aria-label="Get started" href="/sign-up" tabindex="-1">
                        <paper-button raised on-click="_signUpClick" id="signUpBtn1">Get started for free</paper-button>
                    </a>
                    <div class="secondary">No credit card required</div>
                </div>
            </div>
            <div class="section white">
                <div class="contains">
                    <div class="grid-row items-center">
                        <template is="dom-repeat" items="[[data.plans]]" as="plan">
                            <div class="xs12 s6 m6 l3 margin-bottom">
                                <div class="plan text-center">
                                    <div class$="[[_computeClass(index)]]">
                                        [[plan.title]]
                                    </div>
                                    <div class="plan-body">
                                        <div class="plan-body-item valign-wrapper">
                                            <div class="valign">
                                                <h2 class="price"><sup>$</sup>[[plan.cost]]<sub>/mo.</sub></h2>
                                            </div>
                                        </div>
                                        <div class="plan-body-item valign-wrapper">
                                            <p class="valign">[[plan.description]]</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                    <div class="row text-center">
                        <h2 class="decorated row">Plans Include</h2>
                    </div>
                    <div class="grid-row includes">
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Cost Projection</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Inventory Dashboard</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> RBAC</li>
                            </ul>
                        </div>
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Monitoring - limited</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Alerting</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Scheduling</li>
                            </ul>
                        </div>
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Keys</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Orchestration</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Scripting</li>
                            </ul>
                        </div>
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Audit Logs</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Machine Actions</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> API access</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section dark">
                <div class="contains">
                    <div class="row text-center">
                        <h2 class="decorated">Enterprise Plan</h2>
                    </div>
                    <div class="grid-row">
                        <div class="xs12 s12 m6 l8">
                            <div class="left">
                                <h5 class="w400">Do you have more than 300 machines? <br/>Do you want to run Mist.io on premises? </h5>
                                <p> Mist.io can provide custom pricing for businesses with a lot of infrastructure.
                                    <br/>Also, we can work with you to run Mist.io on premises or to setup a proof of concept. </p>
                            </div>
                        </div>
                        <div class="xs12 s12 m6 l4">
                            <h5 class="w400">Contact us if you: </h5>
                            <p>
                                <iron-icon icon="done"></iron-icon> Have more than 300 machines
                                <br/>
                                <iron-icon icon="done"></iron-icon> Want to run an on-premises POC
                                <br/>
                            </p>
                            <p>
                                <a aria-label="Get enterprise" href="/request-pricing" tabindex="-1">
                                    <paper-button raised on-click="_requestInfoEnterprise" id="enterpriseBtn">Request Pricing</paper-button>
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section grey">
                <div class="contains">
                    <div class="row text-center">
                        <h2 class="decorated row">Pricing FAQ</h2>
                    </div>
                    <landing-faq faq="[[data.faq]]"></landing-faq>
                </div>
            </div>
            <div class="section white">
                <div class="contains text-center">
                    <div class="row margin-top">
                        <a aria-label="Get started" href="/sign-up" tabindex="-1">
                            <paper-button raised on-click="_signUpClick2" id="signUpBtn2">Sign up to Mist.io</paper-button>
                        </a>
                        <div class="secondary">No credit card required</div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <script>
    Polymer({

        is: 'landing-pricing',

        behaviors: [
            Polymer.NeonSharedElementAnimatableBehavior
        ],

        properties: {
            animationConfig: {
                type: Object
            },

            categories: {
                type: Array
            },

            data: {
                type: Object,
                notify: true
            },

            visible: {
                type: Boolean,
                observer: '_visibleChanged'
            }

        },

        attached: function() {
            this.animationConfig = {
                'entry': [],
                'exit': [{
                    name: 'fade-out-animation',
                    node: this.$.container,
                    timing: {
                        delay: 150,
                        duration: 0
                    }
                }, {
                    name: 'ripple-animation',
                    id: 'ripple',
                    fromPage: this,
                    node: this.$.signUpBtn1
                }]
            };
            this.sharedElements = {
                'ripple': this.$.signUpBtn1
            };
        },

        _visibleChanged: function(visible) {
            if (visible) {
                this.fire('change-section', {
                    title: 'Pricing'
                });
            }
        },

        _signUpClick: function(event) {
            window.scrollTo(0, 0);
            if (ANIMATIONS) {
                // bring placeholder to fg for animation to work
                this.parentElement.querySelector('#sign-up').$.placeholder.style.zIndex = 1;
            }
            this.fire('user-action', 'sign up button 1 click in pricing page');
        },

        _signUpClick2: function(event) {
            window.scrollTo(0, 0);
            if (ANIMATIONS)
                this.parentElement.querySelector('#sign-up').$.placeholder.style.zIndex = 1;
            this.fire('user-action', 'sign up button 2 click in pricing page');
        },

        _requestInfoEnterprise: function(event) {
            window.scrollTo(0, 0);
            if (ANIMATIONS)
                this.parentElement.querySelector('#sign-up').$.placeholder.style.zIndex = 1;
            this.fire('user-action', 'request info for enterprise plan in pricing page');
        },
        _computeClass: function(index) {
            return "bg-" + index + " title";
        }
    });
    </script>
</dom-module>
